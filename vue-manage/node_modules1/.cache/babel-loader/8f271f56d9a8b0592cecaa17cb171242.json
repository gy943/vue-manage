{"ast":null,"code":"import { getData } from '../../api/data.js';\nimport * as echarts from 'echarts';\nexport default {\n  name: 'home',\n\n  data() {\n    return {\n      userImg: require('../../src/assets/images/user.png'),\n      tableData: [],\n      tableData: [{\n        name: 'oppo',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: 'vivo',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: '苹果',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: '小米',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: '三星',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }, {\n        name: '魅族',\n        todayBuy: 100,\n        monthBuy: 300,\n        totalBuy: 800\n      }],\n      tableLabel: {\n        name: '课程',\n        todayBuy: '今日购买',\n        monthBuy: '本月购买',\n        totalBuy: '总购买'\n      },\n      countData: [{\n        name: \"今日支付订单\",\n        value: 1234,\n        icon: \"success\",\n        color: \"#2ec7c9\"\n      }, {\n        name: \"今日收藏订单\",\n        value: 210,\n        icon: \"star-on\",\n        color: \"#ffb980\"\n      }, {\n        name: \"今日未支付订单\",\n        value: 1234,\n        icon: \"s-goods\",\n        color: \"#5ab1ef\"\n      }, {\n        name: \"本月支付订单\",\n        value: 1234,\n        icon: \"success\",\n        color: \"#2ec7c9\"\n      }, {\n        name: \"本月收藏订单\",\n        value: 210,\n        icon: \"star-on\",\n        color: \"#ffb980\"\n      }, {\n        name: \"本月未支付订单\",\n        value: 1234,\n        icon: \"s-goods\",\n        color: \"#5ab1ef\"\n      }]\n    };\n  },\n\n  mounted() {\n    getData().then(res => {\n      const {\n        code,\n        data\n      } = res.data;\n\n      if (code === 20000) {\n        this.tableData = data.tableData;\n        const order = data.orderData;\n        const xData = order.date;\n        const keyArray = Object.keys(order.data[0]);\n        const series = [];\n        keyArray.forEach(key => {\n          series.push({\n            name: key,\n            data: order.data.map(item => item[key]),\n            type: 'line'\n          });\n        });\n        const option = {\n          xAxis: {\n            data: xData\n          },\n          yAxis: {},\n          //图例\n          legend: {\n            data: keyArray\n          },\n          series\n        };\n        const E = echarts.init(this.$refs.echarts); //绘图\n\n        E.setOption(option); //用户图\n\n        const userOption = {\n          legend: {\n            // 图例文字颜色\n            textStyle: {\n              color: \"#333\"\n            }\n          },\n          grid: {\n            left: \"20%\"\n          },\n          // 提示框\n          tooltip: {\n            trigger: \"axis\"\n          },\n          xAxis: {\n            type: \"category\",\n            // 类目轴\n            data: data.userData.map(item => item.date),\n            axisLine: {\n              lineStyle: {\n                color: \"#17b3a3\"\n              }\n            },\n            axisLabel: {\n              interval: 0,\n              color: \"#333\"\n            }\n          },\n          yAxis: [{\n            type: \"value\",\n            axisLine: {\n              lineStyle: {\n                color: \"#17b3a3\"\n              }\n            }\n          }],\n          color: [\"#2ec7c9\", \"#b6a2de\", \"#5ab1ef\", \"#ffb980\", \"#d87a80\", \"#8d98b3\"],\n          series: [{\n            name: '新增用户',\n            data: data.userData.map(item => item.new),\n            type: 'bar'\n          }, {\n            name: '活跃用户',\n            data: data.userData.map(item => item.active),\n            type: 'bar'\n          }]\n        };\n        const U = echarts.init(this.$refs.userEcharts);\n        U.setOption(userOption);\n      }\n\n      console.log(res);\n    });\n  }\n\n};","map":{"version":3,"mappings":"AAmDA;AACA;AACA;EACAA,YADA;;EAEAC;IACA;MACAC,oDADA;MAEAC,aAFA;MAGAA,YACA;QACAH,YADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CADA,EAOA;QACAN,YADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CAPA,EAaA;QACAN,UADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CAbA,EAmBA;QACAN,UADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CAnBA,EAyBA;QACAN,UADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CAzBA,EA+BA;QACAN,UADA;QAEAI,aAFA;QAGAC,aAHA;QAIAC;MAJA,CA/BA,CAHA;MA0CAC;QACAP,UADA;QAEAI,gBAFA;QAGAC,gBAHA;QAIAC;MAJA,CA1CA;MAiDAE,YACA;QACAR,cADA;QAEAS,WAFA;QAGAC,eAHA;QAIAC;MAJA,CADA,EAOA;QACAX,cADA;QAEAS,UAFA;QAGAC,eAHA;QAIAC;MAJA,CAPA,EAaA;QACAX,eADA;QAEAS,WAFA;QAGAC,eAHA;QAIAC;MAJA,CAbA,EAmBA;QACAX,cADA;QAEAS,WAFA;QAGAC,eAHA;QAIAC;MAJA,CAnBA,EAyBA;QACAX,cADA;QAEAS,UAFA;QAGAC,eAHA;QAIAC;MAJA,CAzBA,EA+BA;QACAX,eADA;QAEAS,WAFA;QAGAC,eAHA;QAIAC;MAJA,CA/BA;IAjDA;EAwFA,CA3FA;;EA4FAC;IACAC;MACA;QAAAC;QAAAb;MAAA;;MACA;QACA;QACA;QACA;QACA;QACA;QACAc;UACAC;YACAhB,SADA;YAEAC,uCAFA;YAGAgB;UAHA;QAKA,CANA;QAOA;UACAC;YACAjB;UADA,CADA;UAIAkB,SAJA;UAOA;UACAC;YACAnB;UADA,CARA;UAWAe;QAXA;QAaA,2CA1BA,CA2BA;;QACAK,oBA5BA,CA8BA;;QACA;UACAD;YACA;YACAE;cACAX;YADA;UAFA,CADA;UAOAY;YACAC;UADA,CAPA;UAUA;UACAC;YACAC;UADA,CAXA;UAcAR;YACAD,gBADA;YACA;YACAhB,0CAFA;YAGA0B;cACAC;gBACAjB;cADA;YADA,CAHA;YAQAkB;cACAC,WADA;cAEAnB;YAFA;UARA,CAdA;UA2BAQ,QACA;YACAF,aADA;YAEAU;cACAC;gBACAjB;cADA;YADA;UAFA,CADA,CA3BA;UAqCAA,yEArCA;UAsCAK,SACA;YACAhB,YADA;YAEAC,yCAFA;YAGAgB;UAHA,CADA,EAMA;YACAjB,YADA;YAEAC,4CAFA;YAGAgB;UAHA,CANA;QAtCA;QAmDA;QACAc;MACA;;MACAC;IACA,CAxFA;EAyFA;;AAtLA","names":["name","data","userImg","tableData","todayBuy","monthBuy","totalBuy","tableLabel","countData","value","icon","color","mounted","getData","code","keyArray","series","type","xAxis","yAxis","legend","E","textStyle","grid","left","tooltip","trigger","axisLine","lineStyle","axisLabel","interval","U","console"],"sourceRoot":"views/home","sources":["index.vue"],"sourcesContent":["<template>\r\n    <el-row class=\"home\" :gutter=\"20\">\r\n        <el-row :span=\"8\" style=\"margin-top:20px\">\r\n            <!-- 可以改el-col -->\r\n            <el-card shadow=\"hover\">\r\n                <div class=\"user\">\r\n                    <img :src=\"userImg\" />\r\n                    <div class=\"userinfo\">\r\n                        <p class=\"name\">Admin</p>\r\n                        <p class=\"access\">超级管理员</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"login-info\">\r\n                    <p>上次登录时间: <span>2021-7-19</span> </p>\r\n                    <p>上次登录地点: <span>武汉</span> </p>\r\n                </div>\r\n            </el-card>\r\n            <el-card style=\"margin-top:20px;height:460px;\">\r\n                <el-table :data=\"tableData\">\r\n                    <el-table-column v-for=\"(val,key) in tableLabel\" :key=\"key\" :prop=\"key\" :label=\"val\">\r\n\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-card>\r\n        </el-row>\r\n        <el-row style=\"margin-top:20px\" :span=\"16\">\r\n            <div class=\"num\">\r\n                <el-card v-for=\"item in countData\" :key=\"item.name\" :body-style=\"{ display: 'flex',padding:0 }\">\r\n                    <i class=\"icon\" :class=\"`el-icon-${item.icon}`\" :style=\"{background:item.color}\"></i>\r\n                    <div class=\"detail\">\r\n                        <p class=\"num\">￥{{item.value}}</p>\r\n                        <p class=\"txt\">{{item.name}}</p>\r\n                    </div>\r\n                </el-card>\r\n            </div>\r\n            <el-card style=\"height:280px\">\r\n                <div style=\"height:280px\" ref=\"echarts\"></div>\r\n            </el-card>\r\n            <div class=\"graph\">\r\n                <el-card style=\"height:260px\">\r\n                    <div style=\"height:240px\" ref=\"userEcharts\"></div>\r\n                </el-card>\r\n                <el-card style=\"height:260px\">\r\n                    <div style=\"height:240px\" ref=\"videoEcharts\"></div>\r\n                </el-card>\r\n            </div>\r\n        </el-row>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    import {getData}from '../../api/data.js'\r\n    import *as echarts from 'echarts'\r\nexport default {\r\n    name: 'home',\r\n    data() {\r\n        return {\r\n            userImg: require('../../src/assets/images/user.png'),\r\n            tableData:[],\r\n            tableData: [\r\n                {\r\n                    name: 'oppo',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                },\r\n                {\r\n                    name: 'vivo',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                },\r\n                {\r\n                    name: '苹果',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                },\r\n                {\r\n                    name: '小米',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                },\r\n                {\r\n                    name: '三星',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                },\r\n                {\r\n                    name: '魅族',\r\n                    todayBuy: 100,\r\n                    monthBuy: 300,\r\n                    totalBuy: 800\r\n                }\r\n            ],\r\n            \r\n            tableLabel: {\r\n                name: '课程',\r\n                todayBuy: '今日购买',\r\n                monthBuy: '本月购买',\r\n                totalBuy:'总购买'\r\n            },\r\n\r\n            countData: [\r\n                {\r\n                    name: \"今日支付订单\",\r\n                    value: 1234,\r\n                    icon: \"success\",\r\n                    color: \"#2ec7c9\",\r\n                },\r\n                {\r\n                    name: \"今日收藏订单\",\r\n                    value: 210,\r\n                    icon: \"star-on\",\r\n                    color: \"#ffb980\",\r\n                },\r\n                {\r\n                    name: \"今日未支付订单\",\r\n                    value: 1234,\r\n                    icon: \"s-goods\",\r\n                    color: \"#5ab1ef\",\r\n                },\r\n                {\r\n                    name: \"本月支付订单\",\r\n                    value: 1234,\r\n                    icon: \"success\",\r\n                    color: \"#2ec7c9\",\r\n                },\r\n                {\r\n                    name: \"本月收藏订单\",\r\n                    value: 210,\r\n                    icon: \"star-on\",\r\n                    color: \"#ffb980\",\r\n                },\r\n                {\r\n                    name: \"本月未支付订单\",\r\n                    value: 1234,\r\n                    icon: \"s-goods\",\r\n                    color: \"#5ab1ef\",\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    mounted() {\r\n        getData().then(res => {\r\n            const {code,data}=res.data\r\n            if(code===20000){\r\n                this.tableData=data.tableData\r\n                const order=data.orderData\r\n                const xData=order.date\r\n                const keyArray= Object.keys(order.data[0])\r\n                const series=[]\r\n                keyArray.forEach(key=>{\r\n                    series.push({\r\n                        name:key,\r\n                        data:order.data.map(item=>item[key]),\r\n                        type:'line'\r\n                    })\r\n                })\r\n                const option={\r\n                    xAxis:{\r\n                        data:xData\r\n                    },\r\n                    yAxis:{\r\n\r\n                    },\r\n                    //图例\r\n                    legend:{\r\n                      data:keyArray\r\n                    },\r\n                    series\r\n                }\r\n                const E=echarts.init(this.$refs.echarts)\r\n                //绘图\r\n                E.setOption(option)\r\n\r\n                //用户图\r\n                const userOption={\r\n                    legend: {\r\n      // 图例文字颜色\r\n      textStyle: {\r\n        color: \"#333\",\r\n      },\r\n    },\r\n    grid: {\r\n      left: \"20%\",\r\n    },\r\n    // 提示框\r\n    tooltip: {\r\n      trigger: \"axis\",\r\n    },\r\n    xAxis: {\r\n      type: \"category\", // 类目轴\r\n      data: data.userData.map(item=>item.date),\r\n      axisLine: {\r\n        lineStyle: {\r\n          color: \"#17b3a3\",\r\n        },\r\n      },\r\n      axisLabel: {\r\n        interval: 0,\r\n        color: \"#333\",\r\n      },\r\n    },\r\n    yAxis: [\r\n      {\r\n        type: \"value\",\r\n        axisLine: {\r\n          lineStyle: {\r\n            color: \"#17b3a3\",\r\n          },\r\n        },\r\n      },\r\n    ],\r\n    color: [\"#2ec7c9\", \"#b6a2de\", \"#5ab1ef\", \"#ffb980\", \"#d87a80\", \"#8d98b3\"],\r\n    series: [\r\n        {\r\n            name:'新增用户',\r\n            data:data.userData.map(item=>item.new),\r\n            type:'bar'\r\n        },\r\n        {\r\n           name:'活跃用户',\r\n            data:data.userData.map(item=>item.active),\r\n            type:'bar' \r\n        }\r\n    ],\r\n                }\r\n                const U=echarts.init(this.$refs.userEcharts)\r\n                U.setOption(userOption)\r\n            }\r\n            console.log(res);\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n    \r\n</style>"]},"metadata":{},"sourceType":"module"}