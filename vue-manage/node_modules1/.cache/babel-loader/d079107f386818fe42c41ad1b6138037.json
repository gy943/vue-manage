{"ast":null,"code":"import easingFuncs from './easing';\n\nvar Clip = function () {\n  function Clip(opts) {\n    this._initialized = false;\n    this._startTime = 0;\n    this._pausedTime = 0;\n    this._paused = false;\n    this._life = opts.life || 1000;\n    this._delay = opts.delay || 0;\n    this.loop = opts.loop == null ? false : opts.loop;\n    this.gap = opts.gap || 0;\n    this.easing = opts.easing || 'linear';\n    this.onframe = opts.onframe;\n    this.ondestroy = opts.ondestroy;\n    this.onrestart = opts.onrestart;\n  }\n\n  Clip.prototype.step = function (globalTime, deltaTime) {\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life;\n\n    if (percent < 0) {\n      percent = 0;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing === 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.onframe && this.onframe(schedule);\n\n    if (percent === 1) {\n      if (this.loop) {\n        this._restart(globalTime);\n\n        this.onrestart && this.onrestart();\n      } else {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Clip.prototype._restart = function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n  };\n\n  Clip.prototype.pause = function () {\n    this._paused = true;\n  };\n\n  Clip.prototype.resume = function () {\n    this._paused = false;\n  };\n\n  return Clip;\n}();\n\nexport default Clip;","map":{"version":3,"names":["easingFuncs","Clip","opts","_initialized","_startTime","_pausedTime","_paused","_life","life","_delay","delay","loop","gap","easing","onframe","ondestroy","onrestart","prototype","step","globalTime","deltaTime","percent","Math","min","easingFunc","schedule","_restart","remainder","pause","resume"],"sources":["E:/school/qianduan/web/vue-manage/node_modules/zrender/lib/animation/Clip.js"],"sourcesContent":["import easingFuncs from './easing';\nvar Clip = (function () {\n    function Clip(opts) {\n        this._initialized = false;\n        this._startTime = 0;\n        this._pausedTime = 0;\n        this._paused = false;\n        this._life = opts.life || 1000;\n        this._delay = opts.delay || 0;\n        this.loop = opts.loop == null ? false : opts.loop;\n        this.gap = opts.gap || 0;\n        this.easing = opts.easing || 'linear';\n        this.onframe = opts.onframe;\n        this.ondestroy = opts.ondestroy;\n        this.onrestart = opts.onrestart;\n    }\n    Clip.prototype.step = function (globalTime, deltaTime) {\n        if (!this._initialized) {\n            this._startTime = globalTime + this._delay;\n            this._initialized = true;\n        }\n        if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n        }\n        var percent = (globalTime - this._startTime - this._pausedTime) / this._life;\n        if (percent < 0) {\n            percent = 0;\n        }\n        percent = Math.min(percent, 1);\n        var easing = this.easing;\n        var easingFunc = typeof easing === 'string'\n            ? easingFuncs[easing] : easing;\n        var schedule = typeof easingFunc === 'function'\n            ? easingFunc(percent)\n            : percent;\n        this.onframe && this.onframe(schedule);\n        if (percent === 1) {\n            if (this.loop) {\n                this._restart(globalTime);\n                this.onrestart && this.onrestart();\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Clip.prototype._restart = function (globalTime) {\n        var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n        this._startTime = globalTime - remainder + this.gap;\n        this._pausedTime = 0;\n    };\n    Clip.prototype.pause = function () {\n        this._paused = true;\n    };\n    Clip.prototype.resume = function () {\n        this._paused = false;\n    };\n    return Clip;\n}());\nexport default Clip;\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,UAAxB;;AACA,IAAIC,IAAI,GAAI,YAAY;EACpB,SAASA,IAAT,CAAcC,IAAd,EAAoB;IAChB,KAAKC,YAAL,GAAoB,KAApB;IACA,KAAKC,UAAL,GAAkB,CAAlB;IACA,KAAKC,WAAL,GAAmB,CAAnB;IACA,KAAKC,OAAL,GAAe,KAAf;IACA,KAAKC,KAAL,GAAaL,IAAI,CAACM,IAAL,IAAa,IAA1B;IACA,KAAKC,MAAL,GAAcP,IAAI,CAACQ,KAAL,IAAc,CAA5B;IACA,KAAKC,IAAL,GAAYT,IAAI,CAACS,IAAL,IAAa,IAAb,GAAoB,KAApB,GAA4BT,IAAI,CAACS,IAA7C;IACA,KAAKC,GAAL,GAAWV,IAAI,CAACU,GAAL,IAAY,CAAvB;IACA,KAAKC,MAAL,GAAcX,IAAI,CAACW,MAAL,IAAe,QAA7B;IACA,KAAKC,OAAL,GAAeZ,IAAI,CAACY,OAApB;IACA,KAAKC,SAAL,GAAiBb,IAAI,CAACa,SAAtB;IACA,KAAKC,SAAL,GAAiBd,IAAI,CAACc,SAAtB;EACH;;EACDf,IAAI,CAACgB,SAAL,CAAeC,IAAf,GAAsB,UAAUC,UAAV,EAAsBC,SAAtB,EAAiC;IACnD,IAAI,CAAC,KAAKjB,YAAV,EAAwB;MACpB,KAAKC,UAAL,GAAkBe,UAAU,GAAG,KAAKV,MAApC;MACA,KAAKN,YAAL,GAAoB,IAApB;IACH;;IACD,IAAI,KAAKG,OAAT,EAAkB;MACd,KAAKD,WAAL,IAAoBe,SAApB;MACA;IACH;;IACD,IAAIC,OAAO,GAAG,CAACF,UAAU,GAAG,KAAKf,UAAlB,GAA+B,KAAKC,WAArC,IAAoD,KAAKE,KAAvE;;IACA,IAAIc,OAAO,GAAG,CAAd,EAAiB;MACbA,OAAO,GAAG,CAAV;IACH;;IACDA,OAAO,GAAGC,IAAI,CAACC,GAAL,CAASF,OAAT,EAAkB,CAAlB,CAAV;IACA,IAAIR,MAAM,GAAG,KAAKA,MAAlB;IACA,IAAIW,UAAU,GAAG,OAAOX,MAAP,KAAkB,QAAlB,GACXb,WAAW,CAACa,MAAD,CADA,GACWA,MAD5B;IAEA,IAAIY,QAAQ,GAAG,OAAOD,UAAP,KAAsB,UAAtB,GACTA,UAAU,CAACH,OAAD,CADD,GAETA,OAFN;IAGA,KAAKP,OAAL,IAAgB,KAAKA,OAAL,CAAaW,QAAb,CAAhB;;IACA,IAAIJ,OAAO,KAAK,CAAhB,EAAmB;MACf,IAAI,KAAKV,IAAT,EAAe;QACX,KAAKe,QAAL,CAAcP,UAAd;;QACA,KAAKH,SAAL,IAAkB,KAAKA,SAAL,EAAlB;MACH,CAHD,MAIK;QACD,OAAO,IAAP;MACH;IACJ;;IACD,OAAO,KAAP;EACH,CA/BD;;EAgCAf,IAAI,CAACgB,SAAL,CAAeS,QAAf,GAA0B,UAAUP,UAAV,EAAsB;IAC5C,IAAIQ,SAAS,GAAG,CAACR,UAAU,GAAG,KAAKf,UAAlB,GAA+B,KAAKC,WAArC,IAAoD,KAAKE,KAAzE;IACA,KAAKH,UAAL,GAAkBe,UAAU,GAAGQ,SAAb,GAAyB,KAAKf,GAAhD;IACA,KAAKP,WAAL,GAAmB,CAAnB;EACH,CAJD;;EAKAJ,IAAI,CAACgB,SAAL,CAAeW,KAAf,GAAuB,YAAY;IAC/B,KAAKtB,OAAL,GAAe,IAAf;EACH,CAFD;;EAGAL,IAAI,CAACgB,SAAL,CAAeY,MAAf,GAAwB,YAAY;IAChC,KAAKvB,OAAL,GAAe,KAAf;EACH,CAFD;;EAGA,OAAOL,IAAP;AACH,CA3DW,EAAZ;;AA4DA,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}