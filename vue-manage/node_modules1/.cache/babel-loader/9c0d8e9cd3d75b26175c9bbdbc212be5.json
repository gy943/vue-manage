{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __assign, __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport labelLayout from './labelLayout';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout) || {}, layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n        if (startAngle != null) {\n          sector.setShape({\n            startAngle: startAngle,\n            endAngle: startAngle\n          });\n          graphic.initProps(sector, {\n            shape: {\n              startAngle: layout.startAngle,\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        } else {\n          sector.shape.endAngle = layout.startAngle;\n          graphic.updateProps(sector, {\n            shape: {\n              endAngle: layout.endAngle\n            }\n          }, seriesModel, idx);\n        }\n      }\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = __assign({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.init = function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  };\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;","map":{"version":3,"names":["__assign","__extends","extend","retrieve3","graphic","setStatesStylesFromModel","enableHoverEmphasis","ChartView","labelLayout","setLabelLineStyle","getLabelLineStatesModels","setLabelStyle","getLabelStatesModels","getSectorCornerRadius","PiePiece","_super","data","idx","startAngle","_this","call","z2","text","Text","setTextContent","updateData","prototype","firstCreate","sector","seriesModel","hostModel","itemModel","getItemModel","emphasisModel","getModel","layout","getItemLayout","sectorShape","isNaN","setShape","animationType","getShallow","shape","r","r0","initProps","endAngle","updateProps","useStyle","getItemVisual","midAngle","offset","get","dx","Math","cos","dy","sin","cursorStyle","attr","_updateLabel","ensureState","x","y","labelLine","getTextGuideLine","labelText","getTextContent","labelLineModel","style","visualColor","fill","visualOpacity","opacity","labelFetcher","labelDataIndex","inheritColor","defaultOpacity","defaultText","getFormattedLabel","getName","setTextConfig","position","rotation","labelPosition","removeTextGuideLine","polyline","Polyline","setTextGuideLine","stroke","Sector","PieView","apply","arguments","ignoreLabelLineUpdate","init","sectorGroup","Group","_sectorGroup","render","ecModel","api","payload","getData","oldData","_data","group","count","s","diff","add","piePiece","setItemGraphicEl","update","newIdx","oldIdx","getItemGraphicEl","off","remove","removeElementWithFadeOut","execute","dispose","containPoint","point","itemLayout","cx","cy","radius","sqrt","type"],"sources":["E:/school/qianduan/web/vue-manage/node_modules/echarts/lib/chart/pie/PieView.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __assign, __extends } from \"tslib\";\nimport { extend, retrieve3 } from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { setStatesStylesFromModel, enableHoverEmphasis } from '../../util/states';\nimport ChartView from '../../view/Chart';\nimport labelLayout from './labelLayout';\nimport { setLabelLineStyle, getLabelLineStatesModels } from '../../label/labelGuideHelper';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\n/**\n * Piece of pie including Sector, Label, LabelLine\n */\n\nvar PiePiece =\n/** @class */\nfunction (_super) {\n  __extends(PiePiece, _super);\n\n  function PiePiece(data, idx, startAngle) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = 2;\n    var text = new graphic.Text();\n\n    _this.setTextContent(text);\n\n    _this.updateData(data, idx, startAngle, true);\n\n    return _this;\n  }\n\n  PiePiece.prototype.updateData = function (data, idx, startAngle, firstCreate) {\n    var sector = this;\n    var seriesModel = data.hostModel;\n    var itemModel = data.getItemModel(idx);\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = data.getItemLayout(idx);\n    var sectorShape = extend(getSectorCornerRadius(itemModel.getModel('itemStyle'), layout) || {}, layout); // Ignore NaN data.\n\n    if (isNaN(sectorShape.startAngle)) {\n      // Use NaN shape to avoid drawing shape.\n      sector.setShape(sectorShape);\n      return;\n    }\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      var animationType = seriesModel.getShallow('animationType');\n\n      if (animationType === 'scale') {\n        sector.shape.r = layout.r0;\n        graphic.initProps(sector, {\n          shape: {\n            r: layout.r\n          }\n        }, seriesModel, idx);\n      } // Expansion\n      else {\n          if (startAngle != null) {\n            sector.setShape({\n              startAngle: startAngle,\n              endAngle: startAngle\n            });\n            graphic.initProps(sector, {\n              shape: {\n                startAngle: layout.startAngle,\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          } else {\n            sector.shape.endAngle = layout.startAngle;\n            graphic.updateProps(sector, {\n              shape: {\n                endAngle: layout.endAngle\n              }\n            }, seriesModel, idx);\n          }\n        }\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n\n    sector.useStyle(data.getItemVisual(idx, 'style'));\n    setStatesStylesFromModel(sector, itemModel);\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var offset = seriesModel.get('selectedOffset');\n    var dx = Math.cos(midAngle) * offset;\n    var dy = Math.sin(midAngle) * offset;\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n\n    this._updateLabel(seriesModel, data, idx);\n\n    sector.ensureState('emphasis').shape = __assign({\n      r: layout.r + (emphasisModel.get('scale') ? emphasisModel.get('scaleSize') || 0 : 0)\n    }, getSectorCornerRadius(emphasisModel.getModel('itemStyle'), layout));\n    extend(sector.ensureState('select'), {\n      x: dx,\n      y: dy,\n      shape: getSectorCornerRadius(itemModel.getModel(['select', 'itemStyle']), layout)\n    });\n    extend(sector.ensureState('blur'), {\n      shape: getSectorCornerRadius(itemModel.getModel(['blur', 'itemStyle']), layout)\n    });\n    var labelLine = sector.getTextGuideLine();\n    var labelText = sector.getTextContent();\n    labelLine && extend(labelLine.ensureState('select'), {\n      x: dx,\n      y: dy\n    }); // TODO: needs dx, dy in zrender?\n\n    extend(labelText.ensureState('select'), {\n      x: dx,\n      y: dy\n    });\n    enableHoverEmphasis(this, emphasisModel.get('focus'), emphasisModel.get('blurScope'));\n  };\n\n  PiePiece.prototype._updateLabel = function (seriesModel, data, idx) {\n    var sector = this;\n    var itemModel = data.getItemModel(idx);\n    var labelLineModel = itemModel.getModel('labelLine');\n    var style = data.getItemVisual(idx, 'style');\n    var visualColor = style && style.fill;\n    var visualOpacity = style && style.opacity;\n    setLabelStyle(sector, getLabelStatesModels(itemModel), {\n      labelFetcher: data.hostModel,\n      labelDataIndex: idx,\n      inheritColor: visualColor,\n      defaultOpacity: visualOpacity,\n      defaultText: seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx)\n    });\n    var labelText = sector.getTextContent(); // Set textConfig on sector.\n\n    sector.setTextConfig({\n      // reset position, rotation\n      position: null,\n      rotation: null\n    }); // Make sure update style on labelText after setLabelStyle.\n    // Because setLabelStyle will replace a new style on it.\n\n    labelText.attr({\n      z2: 10\n    });\n    var labelPosition = seriesModel.get(['label', 'position']);\n\n    if (labelPosition !== 'outside' && labelPosition !== 'outer') {\n      sector.removeTextGuideLine();\n    } else {\n      var polyline = this.getTextGuideLine();\n\n      if (!polyline) {\n        polyline = new graphic.Polyline();\n        this.setTextGuideLine(polyline);\n      } // Default use item visual color\n\n\n      setLabelLineStyle(this, getLabelLineStatesModels(itemModel), {\n        stroke: visualColor,\n        opacity: retrieve3(labelLineModel.get(['lineStyle', 'opacity']), visualOpacity, 1)\n      });\n    }\n  };\n\n  return PiePiece;\n}(graphic.Sector); // Pie view\n\n\nvar PieView =\n/** @class */\nfunction (_super) {\n  __extends(PieView, _super);\n\n  function PieView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ignoreLabelLineUpdate = true;\n    return _this;\n  }\n\n  PieView.prototype.init = function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  };\n\n  PieView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var startAngle; // First render\n\n    if (!oldData && data.count() > 0) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape && shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      if (shape) {\n        startAngle = shape.startAngle;\n      }\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx, startAngle);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx, startAngle);\n      piePiece.off('click');\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      graphic.removeElementWithFadeOut(piePiece, seriesModel, idx);\n    }).execute();\n    labelLayout(seriesModel); // Always use initial animation.\n\n    if (seriesModel.get('animationTypeUpdate') !== 'expansion') {\n      this._data = data;\n    }\n  };\n\n  PieView.prototype.dispose = function () {};\n\n  PieView.prototype.containPoint = function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  PieView.type = 'pie';\n  return PieView;\n}(ChartView);\n\nexport default PieView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}