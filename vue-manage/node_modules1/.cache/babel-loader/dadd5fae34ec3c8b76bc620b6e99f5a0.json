{"ast":null,"code":"import axios from 'axios';\nimport config from '../config'; // 拿到请求接口地址\n\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro;\n\nclass HttpRequest {\n  constructor() {\n    this.baseUrl = baseUrl;\n  }\n\n  getInsideConfig() {\n    const config = {\n      baseUrl: this.baseUrl,\n      header: {}\n    };\n    return config;\n  }\n\n  interceptors(instance) {\n    // 添加请求拦截器\n    instance.interceptors.request.use(function (config) {\n      // 在发送请求之前做些什么\n      return config;\n    }, function (error) {\n      // 对请求错误做些什么\n      return Promise.reject(error);\n    }); // 添加响应拦截器\n\n    instance.interceptors.response.use(function (response) {\n      // 对响应数据做点什么\n      return response;\n    }, function (error) {\n      // 对响应错误做点什么\n      return Promise.reject(error);\n    });\n  }\n\n  request(options) {\n    const instance = axios.create();\n    options = { ...this.getInsideConfig(),\n      ...options\n    };\n    this.interceptors(instance);\n    return instance(options);\n  }\n\n}\n\nexport default new HttpRequest(baseUrl);","map":{"version":3,"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequest","constructor","getInsideConfig","header","interceptors","instance","request","use","error","Promise","reject","response","options","create"],"sources":["E:/school/qianduan/web/vue-manage/api/axios.js"],"sourcesContent":["import axios from 'axios'\r\nimport config from '../config'\r\n// 拿到请求接口地址\r\nconst baseUrl = process.env.NODE_ENV === 'development' ? config.baseUrl.dev : config.baseUrl.pro\r\nclass HttpRequest {\r\n    constructor() {\r\n        this.baseUrl = baseUrl\r\n    }\r\n    getInsideConfig() {\r\n        const config = {\r\n            baseUrl: this.baseUrl,\r\n            header: {}\r\n        }\r\n        return config\r\n    }\r\n    interceptors(instance) {\r\n        // 添加请求拦截器\r\n        instance.interceptors.request.use(function (config) {\r\n            // 在发送请求之前做些什么\r\n            return config;\r\n        }, function (error) {\r\n            // 对请求错误做些什么\r\n            return Promise.reject(error);\r\n        });\r\n\r\n        // 添加响应拦截器\r\n        instance.interceptors.response.use(function (response) {\r\n            // 对响应数据做点什么\r\n            return response;\r\n        }, function (error) {\r\n            // 对响应错误做点什么\r\n            return Promise.reject(error);\r\n        });\r\n    }\r\n    request(options) {\r\n        const instance = axios.create()\r\n        options = { ...this.getInsideConfig(), ...options }\r\n        this.interceptors(instance)\r\n        return instance(options)\r\n    }\r\n}\r\nexport default new HttpRequest(baseUrl)"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CACA;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyCJ,MAAM,CAACC,OAAP,CAAeI,GAAxD,GAA8DL,MAAM,CAACC,OAAP,CAAeK,GAA7F;;AACA,MAAMC,WAAN,CAAkB;EACdC,WAAW,GAAG;IACV,KAAKP,OAAL,GAAeA,OAAf;EACH;;EACDQ,eAAe,GAAG;IACd,MAAMT,MAAM,GAAG;MACXC,OAAO,EAAE,KAAKA,OADH;MAEXS,MAAM,EAAE;IAFG,CAAf;IAIA,OAAOV,MAAP;EACH;;EACDW,YAAY,CAACC,QAAD,EAAW;IACnB;IACAA,QAAQ,CAACD,YAAT,CAAsBE,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUd,MAAV,EAAkB;MAChD;MACA,OAAOA,MAAP;IACH,CAHD,EAGG,UAAUe,KAAV,EAAiB;MAChB;MACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;IACH,CAND,EAFmB,CAUnB;;IACAH,QAAQ,CAACD,YAAT,CAAsBO,QAAtB,CAA+BJ,GAA/B,CAAmC,UAAUI,QAAV,EAAoB;MACnD;MACA,OAAOA,QAAP;IACH,CAHD,EAGG,UAAUH,KAAV,EAAiB;MAChB;MACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;IACH,CAND;EAOH;;EACDF,OAAO,CAACM,OAAD,EAAU;IACb,MAAMP,QAAQ,GAAGb,KAAK,CAACqB,MAAN,EAAjB;IACAD,OAAO,GAAG,EAAE,GAAG,KAAKV,eAAL,EAAL;MAA6B,GAAGU;IAAhC,CAAV;IACA,KAAKR,YAAL,CAAkBC,QAAlB;IACA,OAAOA,QAAQ,CAACO,OAAD,CAAf;EACH;;AAnCa;;AAqClB,eAAe,IAAIZ,WAAJ,CAAgBN,OAAhB,CAAf"},"metadata":{},"sourceType":"module"}