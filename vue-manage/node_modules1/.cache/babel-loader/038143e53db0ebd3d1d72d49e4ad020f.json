{"ast":null,"code":"import Cookie from 'js-cookie'; // import router from '../router'\n\nexport default {\n  state: {\n    isCollapse: false,\n    tabsList: [{\n      path: '/',\n      name: 'home',\n      label: '首页',\n      icon: 'home'\n    }],\n    currentMenu: null,\n    menu: []\n  },\n  mutations: {\n    collapseMenu(state) {\n      state.isCollapse = !state.isCollapse;\n    },\n\n    selectMenu(state, val) {\n      if (val.name !== 'home') {\n        state.currentMenu = val;\n        const result = state.tabsList.findIndex(item => item.name === val.name);\n\n        if (result === -1) {\n          state.tabsList.push(val);\n        }\n      } else {\n        state.currentMenu = null;\n      }\n    },\n\n    closeTag(state, val) {\n      const result = state.tabsList.findIndex(item => item.name === val.name);\n      state.tabsList.splice(result, 1);\n    } // setMenu(state, val) {\n    //     state.menu = val\n    //     Cookie.set('menu', JSON.stringify(val))\n    // },\n    // clearMenu(state) {\n    //     state.menu = []\n    //     Cookie.remove('menu')\n    // },\n    // addMenu(state, router) {\n    //     if (!Cookie.get('menu')) {\n    //         return\n    //     }\n    //     const menu = JSON.parse(Cookie.get('menu'))\n    //     state.menu = menu\n    //     const menuArray = []\n    //     menu.forEach(item => {\n    //         if (item.children) {\n    //             item.children = item.children.map(item => {\n    //                 item.component = () => import(`../views/${item.url}`)\n    //                 return item\n    //             })\n    //             menuArray.push(...item.children)\n    //         } else {\n    //             item.component = () => import(`../views/${item.url}`)\n    //             menuArray.push(item)\n    //         }\n    //     });\n    //     // 路由的动态添加\n    //     menuArray.forEach(item => {\n    //         router.addRoute('Main', item)\n    //     })\n    // }\n\n\n  }\n};","map":{"version":3,"names":["Cookie","state","isCollapse","tabsList","path","name","label","icon","currentMenu","menu","mutations","collapseMenu","selectMenu","val","result","findIndex","item","push","closeTag","splice"],"sources":["E:/school/qianduan/web/vue-manage/src/store/tab.js"],"sourcesContent":["import Cookie from 'js-cookie'\r\n// import router from '../router'\r\nexport default {\r\n    state: {\r\n        isCollapse: false,\r\n        tabsList: [\r\n            {\r\n                path: '/',\r\n                name: 'home',\r\n                label: '首页',\r\n                icon: 'home'\r\n            }\r\n        ],\r\n        currentMenu: null,\r\n        menu: []\r\n    },\r\n    mutations: {\r\n        collapseMenu(state) {\r\n            state.isCollapse = !state.isCollapse\r\n        },\r\n        selectMenu(state, val) {\r\n            if (val.name !== 'home') {\r\n                state.currentMenu = val\r\n                const result = state.tabsList.findIndex(item => item.name === val.name)\r\n                if (result === -1) {\r\n                    state.tabsList.push(val)\r\n                }\r\n            } else {\r\n                state.currentMenu = null\r\n            }\r\n        },\r\n        closeTag(state, val) {\r\n            const result = state.tabsList.findIndex(item => item.name === val.name)\r\n            state.tabsList.splice(result, 1)\r\n        },\r\n        // setMenu(state, val) {\r\n        //     state.menu = val\r\n        //     Cookie.set('menu', JSON.stringify(val))\r\n        // },\r\n        // clearMenu(state) {\r\n        //     state.menu = []\r\n        //     Cookie.remove('menu')\r\n        // },\r\n        // addMenu(state, router) {\r\n        //     if (!Cookie.get('menu')) {\r\n        //         return\r\n        //     }\r\n        //     const menu = JSON.parse(Cookie.get('menu'))\r\n        //     state.menu = menu\r\n        //     const menuArray = []\r\n        //     menu.forEach(item => {\r\n        //         if (item.children) {\r\n        //             item.children = item.children.map(item => {\r\n        //                 item.component = () => import(`../views/${item.url}`)\r\n        //                 return item\r\n        //             })\r\n        //             menuArray.push(...item.children)\r\n        //         } else {\r\n        //             item.component = () => import(`../views/${item.url}`)\r\n        //             menuArray.push(item)\r\n        //         }\r\n        //     });\r\n        //     // 路由的动态添加\r\n        //     menuArray.forEach(item => {\r\n        //         router.addRoute('Main', item)\r\n        //     })\r\n        // }\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CACA;;AACA,eAAe;EACXC,KAAK,EAAE;IACHC,UAAU,EAAE,KADT;IAEHC,QAAQ,EAAE,CACN;MACIC,IAAI,EAAE,GADV;MAEIC,IAAI,EAAE,MAFV;MAGIC,KAAK,EAAE,IAHX;MAIIC,IAAI,EAAE;IAJV,CADM,CAFP;IAUHC,WAAW,EAAE,IAVV;IAWHC,IAAI,EAAE;EAXH,CADI;EAcXC,SAAS,EAAE;IACPC,YAAY,CAACV,KAAD,EAAQ;MAChBA,KAAK,CAACC,UAAN,GAAmB,CAACD,KAAK,CAACC,UAA1B;IACH,CAHM;;IAIPU,UAAU,CAACX,KAAD,EAAQY,GAAR,EAAa;MACnB,IAAIA,GAAG,CAACR,IAAJ,KAAa,MAAjB,EAAyB;QACrBJ,KAAK,CAACO,WAAN,GAAoBK,GAApB;QACA,MAAMC,MAAM,GAAGb,KAAK,CAACE,QAAN,CAAeY,SAAf,CAAyBC,IAAI,IAAIA,IAAI,CAACX,IAAL,KAAcQ,GAAG,CAACR,IAAnD,CAAf;;QACA,IAAIS,MAAM,KAAK,CAAC,CAAhB,EAAmB;UACfb,KAAK,CAACE,QAAN,CAAec,IAAf,CAAoBJ,GAApB;QACH;MACJ,CAND,MAMO;QACHZ,KAAK,CAACO,WAAN,GAAoB,IAApB;MACH;IACJ,CAdM;;IAePU,QAAQ,CAACjB,KAAD,EAAQY,GAAR,EAAa;MACjB,MAAMC,MAAM,GAAGb,KAAK,CAACE,QAAN,CAAeY,SAAf,CAAyBC,IAAI,IAAIA,IAAI,CAACX,IAAL,KAAcQ,GAAG,CAACR,IAAnD,CAAf;MACAJ,KAAK,CAACE,QAAN,CAAegB,MAAf,CAAsBL,MAAtB,EAA8B,CAA9B;IACH,CAlBM,CAmBP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EAlDO;AAdA,CAAf"},"metadata":{},"sourceType":"module"}