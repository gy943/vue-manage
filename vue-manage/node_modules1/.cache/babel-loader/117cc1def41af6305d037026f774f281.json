{"ast":null,"code":"import CommonForm from '../../src/components/CommonForm.vue';\nexport default {\n  name: 'User',\n  components: {\n    CommonForm\n  },\n\n  data() {\n    return {\n      operateType: 'add',\n      isShow: false,\n      opertateFormLabel: [{\n        model: 'name',\n        label: '姓名',\n        type: 'input'\n      }, {\n        model: 'age',\n        label: '年龄',\n        type: 'input'\n      }, {\n        model: 'sex',\n        label: '性别',\n        type: 'select',\n        opts: [{\n          label: '男',\n          value: 1\n        }, {\n          label: '女',\n          value: 0\n        }]\n      }, {\n        model: 'birth',\n        label: '出生日期',\n        type: 'date'\n      }, {\n        model: 'addr',\n        label: '地址',\n        type: 'input'\n      }],\n      operateForm: {\n        name: '',\n        addr: '',\n        age: '',\n        birth: '',\n        sex: ''\n      },\n      formLabel: [{\n        model: \"keyword\",\n        label: '',\n        type: 'input'\n      }],\n      searchForm: {\n        keyword: ''\n      }\n    };\n  },\n\n  methods: {\n    confirm() {\n      if (this.operateType === 'edit') {\n        //调用接口，mock模拟\n        this.$http.post('/user/edit', this.operateForm).then(res => {\n          console.log(res);\n          this.isShow = false;\n        });\n      } else {\n        this.$http.post('/user/add', this.operateForm).then(res => {\n          console.log(res);\n          this.isShow = false;\n        });\n      }\n    },\n\n    addUser() {\n      this.isShow = true;\n      this.operateType = 'add';\n      this.operateForm = {\n        name: '',\n        addr: '',\n        age: '',\n        birth: '',\n        sex: ''\n      };\n    },\n\n    getList() {}\n\n  }\n};","map":{"version":3,"mappings":"AAiCA;AACA;EACAA,YADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,kBADA;MAEAC,aAFA;MAGAC,oBACA;QACAC,aADA;QAEAC,WAFA;QAGAC;MAHA,CADA,EAMA;QACAF,YADA;QAEAC,WAFA;QAGAC;MAHA,CANA,EAWA;QACAF,YADA;QAEAC,WAFA;QAGAC,cAHA;QAIAC,OACA;UACAF,UADA;UAEAG;QAFA,CADA,EAKA;UACAH,UADA;UAEAG;QAFA,CALA;MAJA,CAXA,EA0BA;QACAJ,cADA;QAEAC,aAFA;QAGAC;MAHA,CA1BA,EA+BA;QACAF,aADA;QAEAC,WAFA;QAGAC;MAHA,CA/BA,CAHA;MAyCAG;QACAZ,QADA;QAEAa,QAFA;QAGAC,OAHA;QAIAC,SAJA;QAKAC;MALA,CAzCA;MAiDAC,YACA;QACAV,gBADA;QAEAC,SAFA;QAGAC;MAHA,CADA,CAjDA;MAwDAS;QACAC;MADA;IAxDA;EA4DA,CAlEA;;EAmEAC;IACAC;MACA;QACA;QACA;UACAC;UACA;QACA,CAHA;MAIA,CANA,MAMA;QACA;UACAA;UACA;QACA,CAHA;MAIA;IACA,CAdA;;IAeAC;MACA;MACA;MACA;QACAvB,QADA;QAEAa,QAFA;QAGAC,OAHA;QAIAC,SAJA;QAKAC;MALA;IAOA,CAzBA;;IA0BAQ;;EA1BA;AAnEA","names":["name","components","CommonForm","data","operateType","isShow","opertateFormLabel","model","label","type","opts","value","operateForm","addr","age","birth","sex","formLabel","searchForm","keyword","methods","confirm","console","addUser","getList"],"sourceRoot":"views/User","sources":["index.vue"],"sourcesContent":["<template>\r\n    <div class=\"manage\">\r\n        <el-dialog :title=\"operateType==='add'? '新增用户':'更新用户'\" :visible.sync=\"isShow\">\r\n            <common-form \r\n            :formLabel=\"opertateFormLabel\" \r\n            :form=\"operateForm\" \r\n            :inline=\"true\" \r\n            ref=\"form\">\r\n            </common-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"isShow=false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"confirm\" >确定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <div class=\"manage-header\">\r\n            <div>\r\n             <el-button type=\"primary\" @click=\"addUser\">+新增</el-button>\r\n            \r\n             <common-form \r\n            :formLabel=\"formLabel\" \r\n            :form=\"searchForm\" \r\n            :inline=\"true\" \r\n            ref=\"form\">\r\n\r\n            <el-button type=\"primary\" @click=\"getList\">搜索</el-button>\r\n\r\n            </common-form>\r\n             </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import CommonForm from '../../src/components/CommonForm.vue'\r\nexport default {\r\n    name: 'User',\r\n    components: {\r\n        CommonForm\r\n    },\r\n    data() {\r\n        return {\r\n            operateType: 'add',\r\n            isShow: false,\r\n            opertateFormLabel: [\r\n                {\r\n                    model: 'name',\r\n                    label: '姓名',\r\n                    type: 'input'\r\n                },\r\n                {\r\n                    model: 'age',\r\n                    label: '年龄',\r\n                    type: 'input'\r\n                },\r\n                {\r\n                    model: 'sex',\r\n                    label: '性别',\r\n                    type: 'select',\r\n                    opts: [\r\n                        {\r\n                            label: '男',\r\n                            value: 1\r\n                        },\r\n                        {\r\n                            label: '女',\r\n                            value: 0\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    model: 'birth',\r\n                    label: '出生日期',\r\n                    type: 'date'\r\n                },\r\n                {\r\n                    model: 'addr',\r\n                    label: '地址',\r\n                    type: 'input'\r\n                }\r\n            ],\r\n\r\n            operateForm: {\r\n                name: '',\r\n                addr: '',\r\n                age: '',\r\n                birth: '',\r\n                sex:''\r\n            },\r\n\r\n            formLabel: [\r\n                {\r\n                    model: \"keyword\",\r\n                    label: '',\r\n                    type:'input'\r\n                }\r\n            ],\r\n            searchForm: {\r\n                keyword:''\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        confirm() {\r\n            if (this.operateType === 'edit') {\r\n                //调用接口，mock模拟\r\n                this.$http.post('/user/edit', this.operateForm).then(res => {\r\n                    console.log(res);\r\n                    this.isShow=false\r\n                })\r\n            } else {\r\n                this.$http.post('/user/add', this.operateForm).then(res => {\r\n                    console.log(res);\r\n                    this.isShow = false\r\n                })\r\n            }\r\n         },\r\n        addUser() { \r\n            this.isShow = true\r\n            this.operateType = 'add'\r\n            this.operateForm = {\r\n                name: '',\r\n                addr: '',\r\n                age: '',\r\n                birth: '',\r\n                sex: ''\r\n            }\r\n        },\r\n        getList(){}\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n.manage-header{\r\ndisplay:flex;\r\njustify-content:space-between;\r\nalign-items:center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}